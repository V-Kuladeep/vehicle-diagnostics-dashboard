<h3>Search Diagnostic Logs</h3>

<form [formGroup]="searchForm" (ngSubmit)="search()">
  <div style="display: flex; gap: 16px; margin-bottom: 16px">
    <div style="display: flex; flex-direction: column">
      <label for="vehicleId">Vehicle ID:</label>
      <input id="vehicleId" type="text" formControlName="vehicleId" />
    </div>

    <div style="display: flex; flex-direction: column">
      <label for="errorCode">Error Code:</label>
      <input id="errorCode" type="text" formControlName="errorCode" />
    </div>
  </div>

  <div style="display: flex; gap: 16px; margin-bottom: 16px">
    <div style="display: flex; flex-direction: column">
      <label for="from">From:</label>
      <input id="from" type="datetime-local" formControlName="from" />
    </div>

    <div style="display: flex; flex-direction: column">
      <label for="to">To:</label>
      <input id="to" type="datetime-local" formControlName="to" />
    </div>
  </div>

  <button type="submit">Search</button>
  <div *ngIf="showValidationError" class="error">
    Please fill at least one field to search.
  </div>
</form>

<div *ngIf="loading" class="loader">Loading...</div>
<div *ngIf="!loading && notFound" class="not-found">
  No logs found for given details.
</div>

<table *ngIf="logs.length">
  <thead>
    <tr>
      <th>Timestamp</th>
      <th>Vehicle ID</th>
      <th>Error Code</th>
      <th>Message</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let log of logs">
      <td>{{ log.timestamp }}</td>
      <td>{{ log.vehicleId }}</td>
      <td>{{ log.code }}</td>
      <td>{{ log.message }}</td>
    </tr>
  </tbody>
</table>
